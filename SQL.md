
## SQL
[Go Back](#оглавление)
* Вопросы, которые надо разобрать

1. В чем разница между операторами DELETE и TRUNCATE?
2. В чем разница между предложениями HAVING и WHERE
3. Из каких подмножеств состоит SQL
4. Какие существуют типы СУБД
5. В чем разница между типом данных CHAR и VARCHAR в SQL?
6. то такое ограничения (Constraints)
7. Ключи
    * уникальный ключ
    * внешний ключ
    * первичный ключ
11. В чем разница между кластеризованным и некластеризованным индексами в SQL
12. Что вы подразумеваете под денормализацией
13. Опишите различные типы индексов
14.  Что такое нормализация и каковы ее преимущества
15.   Объясните различные типы нормализации.
16.   Что такое свойство ACID в базе данных?
17.   Что такое транзакции и зачем они нужны
18.   Что такое подзапрос в SQL?
19.   Какие бывают типы подзапросов
20.   В чем разница между коррелированным и некоррелированным подзапросом?
21.   Что такое выражение GROUP BY
22.   Что такое обобщенное табличное выражение (CTE)
23.   Что такое оконная функция и как она используется?
24.   хранимая процедура
25.   Что такое функция и чем она отличается от хранимой процедуры
26.   представление SQL
27.   подстановочные знаки
28.   INSERT INTO SELECT

аналитические функции, подзапросы, хранимые процедуры, оптимизация производительности
### Joinы (тут инфы чуть больше чем в обычном Sql, так как spark рулит)
* Self-join в SQL – это тип операции соединения, при которой таблица объединяется сама с собой
* Виды Join
  * Left (Left Outer) - оставляет все из левой таблицы, добавляет туда то, что нашел в правой. Несцепленные строки из левой заполняет null в колонках правой
  * Right (Right Outer) - аналог Left, но работает в другую сторону
  * Inner - оставляет то, что сцепилось из левой и правой таблицы
  * Full (Full Outer) - сцепляет все что можно слева и спава, остальное в null, все как мы привыкли, в итоге получим все
  * Cross - все на все, умножаем поля слева на поля справа (с точки зрения результирующего количества полей)
  * Semi (Left/Right) - оставляет только то из левой таблицы, что нашлось в правой
  * Anti (Left/Right) - оставляет только то из левой таблицы, что **НЕ** нашлось в правой
* Механизмы Join
  * Broadcast Hash Join
    * Одна таблица транслируется всем исполнителям, для каждого из которых строится хэш таблица
    * Далее они начинают соединяться без перетасовки
    * Требует много памяти
  * Shuffle Hash Join
    * Две таблицы выравниваются по схеме партиционирования (либо перемешиваются до похожести)
    * Далее базовый Hash Join (хэш таблица строится, начиная от меньшей по размеру)
    * Меньшее требование к памяти нежели у Broadcast Hash Join (из-за того, что таблица над меньшим объемом данных)
  * Sort Merge Join
    * Shuffle на минималках, для тех, кому жалко ресурсы
  * Cartesian Join - Декартово соединение
    * Используется исключительно для выполнения перекрестного (Cross) соединения между двумя наборами входных данных
  * Broadcast Nested Loop Join
    * Входной набор транслируется на всех
    * А дальше целиком
    * Лучше такое не делать, конечно  
### Оконки
### Всякие СУБД под SQL
#### Greenplam
* Надстройка над PostgresSql для работы с BigData
#### Casandra
* Это нереляционная отказоустойчивая распределенная СУБД, рассчитанная на создание высокомасштабируемых и надёжных хранилищ огромных массивов данных, представленных в виде хэша
#### ClickHouse
* Cтолбцовая система управления базами данных (СУБД) для онлайн-обработки аналитических запросов (OLAP)
---
